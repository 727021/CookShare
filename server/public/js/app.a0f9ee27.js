(function(t){function e(e){for(var s,a,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,o=1;o<i.length;o++){var l=i[o];0!==r[l]&&(s=!1)}s&&(n.splice(e--,1),t=a(a.s=i[0]))}return t}var s={},r={app:0},n=[];function a(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var s=i("85ec"),r=i.n(s);r.a},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},2:function(t,e){},3:function(t,e){},"3b7a":function(t,e,i){"use strict";var s=i("94d5"),r=i.n(s);r.a},4:function(t,e){},5:function(t,e){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Header",{on:{"show-login":t.showLogin,"show-register":t.showRegister,logout:t.logout}}),i("router-view"),i("Footer"),t.loginVisible?i("div",[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog modal-dialog-scrollable",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("Log In")]),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:t.hideLogin}},[i("span",{attrs:{"aria-hidden":"true"}},[i("i",{staticClass:"fas fa-times"})])])]),i("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[i("div",{staticClass:"modal-body"},[t.loginForm.error?i("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.loginForm.error))]):t._e(),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.username,expression:"loginForm.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username/email",autocomplete:"username"},domProps:{value:t.loginForm.username},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"username",e.target.value)}}})]),i("div",{staticClass:"form-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.password,expression:"loginForm.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",autocomplete:"current-password"},domProps:{value:t.loginForm.password},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"password",e.target.value)}}})]),i("div",{staticClass:"text-center"})]),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-link mr-auto",attrs:{disabled:""}},[t._v("Forgot Password")]),i("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.showRegister(e)}}},[t._v("Create Account")]),i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Log In")])])])])])])])])],1):t._e(),t.registerVisible?i("div",[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog modal-dialog-scrollable",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"modal-title"},[t._v("Create Account")]),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:t.hideRegister}},[i("span",{attrs:{"aria-hidden":"true"}},[i("i",{staticClass:"fas fa-times"})])])]),i("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[i("div",{staticClass:"modal-body"},[i("div",{staticClass:"form-group row"},[i("div",{staticClass:"col-12 col-lg-6 mb-3 mb-lg-0"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.username.value,expression:"registerForm.username.value"}],staticClass:"form-control",class:{"is-invalid":t.registerForm.username.error},attrs:{type:"text",placeholder:"Username",autocomplete:"username"},domProps:{value:t.registerForm.username.value},on:{input:function(e){e.target.composing||t.$set(t.registerForm.username,"value",e.target.value)}}}),t.registerForm.username.error?i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.registerForm.username.error))]):t._e()]),i("div",{staticClass:"col-12 col-lg-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.email.value,expression:"registerForm.email.value"}],staticClass:"form-control",class:{"is-invalid":t.registerForm.email.error},attrs:{type:"email",placeholder:"Email",autocomplete:"email"},domProps:{value:t.registerForm.email.value},on:{input:function(e){e.target.composing||t.$set(t.registerForm.email,"value",e.target.value)}}}),t.registerForm.email.error?i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.registerForm.email.error))]):t._e()])]),i("div",{staticClass:"form-group row"},[i("div",{staticClass:"col-12 col-lg-6 mb-3 mb-lg-0"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.firstname.value,expression:"registerForm.firstname.value"}],staticClass:"form-control",class:{"is-invalid":t.registerForm.firstname.error},attrs:{type:"text",placeholder:"First name",autocomplete:"given-name"},domProps:{value:t.registerForm.firstname.value},on:{input:function(e){e.target.composing||t.$set(t.registerForm.firstname,"value",e.target.value)}}}),t.registerForm.firstname.error?i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.registerForm.firstname.error))]):t._e()]),i("div",{staticClass:"col-12 col-lg-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.lastname.value,expression:"registerForm.lastname.value"}],staticClass:"form-control",class:{"is-invalid":t.registerForm.lastname.error},attrs:{type:"text",placeholder:"Last name",autocomplete:"family-name"},domProps:{value:t.registerForm.lastname.value},on:{input:function(e){e.target.composing||t.$set(t.registerForm.lastname,"value",e.target.value)}}}),t.registerForm.lastname.error?i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.registerForm.lastname.error))]):t._e()])]),i("div",{staticClass:"form-group row"},[i("div",{staticClass:"col-12 col-lg-6 mb-3 mb-lg-0"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.password.value,expression:"registerForm.password.value"}],staticClass:"form-control",class:{"is-invalid":t.registerForm.password.error},attrs:{type:"password",placeholder:"Password",autocomplete:"new-password"},domProps:{value:t.registerForm.password.value},on:{input:function(e){e.target.composing||t.$set(t.registerForm.password,"value",e.target.value)}}}),t.registerForm.password.error?i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.registerForm.password.error))]):t._e()]),i("div",{staticClass:"col-12 col-lg-6"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.confirm.value,expression:"registerForm.confirm.value"}],staticClass:"form-control",class:{"is-invalid":t.registerForm.confirm.error},attrs:{type:"password",placeholder:"Confirm password",autocomplete:"new-password"},domProps:{value:t.registerForm.confirm.value},on:{input:function(e){e.target.composing||t.$set(t.registerForm.confirm,"value",e.target.value)}}}),t.registerForm.confirm.error?i("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.registerForm.confirm.error))]):t._e()])])]),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:t.showLogin}},[t._v("Log In")]),i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Create Account")])])])])])])])])],1):t._e()],1)},n=[],a=(i("7db0"),i("b0c0"),i("d3b7"),i("14b7"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top"},[i("div",{staticClass:"container"},[t._m(0),i("div",{staticClass:"collapse navbar-collapse text-center text-lg-left",attrs:{id:"navbarNav"}},[i("span",{staticClass:"navbar-brand"},[t._v("CookShare")]),i("hr",{staticClass:"d-lg-none"}),i("ul",{staticClass:"navbar-nav mr-auto"},[i("NavLink",{attrs:{page:"/",exact:"true"}}),i("NavLink",{attrs:{page:"/recipes"}}),i("NavLink",{attrs:{page:"/cookbooks"}})],1),i("hr",{staticClass:"d-lg-none"}),this.$parent.user?i("ul",{staticClass:"navbar-nav"},[i("NavLink",{attrs:{page:"/profile",exact:"true",text:this.$parent.user.username}}),i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("logout")}}},[t._v("Log Out")])])],1):i("ul",{staticClass:"navbar-nav"},[i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",attrs:{href:"/login"},on:{click:function(e){return e.preventDefault(),t.$emit("show-login")}}},[t._v("Log In")])]),i("li",{staticClass:"navbar-text d-none d-lg-inline-block"},[t._v("or")]),i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",attrs:{href:"/register"},on:{click:function(e){return e.preventDefault(),t.$emit("show-register")}}},[t._v("Create Account")])])])])])])}),o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[i("span",{staticClass:"navbar-toggler-icon"})])}],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{attrs:{to:t.page},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.href,r=e.route,n=e.navigate,a=e.isExactActive,o=e.isActive;return[i("li",{staticClass:"nav-item",class:{active:t.exact?a:o}},[i("a",{staticClass:"nav-link",attrs:{href:s},on:{click:n}},[t._v(t._s(t.text||r.name))])])]}}])})},c=[],u={name:"NavLink",props:["page","exact","text"]},d=u,p=i("2877"),m=Object(p["a"])(d,l,c,!1,null,null,null),v=m.exports,g={name:"Header",components:{NavLink:v},methods:{loggedIn:function(){return Boolean(localStorage.getItem("token"))}}},f=g,b=Object(p["a"])(f,a,o,!1,null,"50968801",null),h=b.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"navbar fixed-bottom navbar-dark bg-dark"},[i("div",{staticClass:"container"},[t._m(0),i("span",{staticClass:"navbar-text"},[t._v("Â©2020"+t._s(2020===(new Date).getFullYear()?"":"-"+(new Date).getFullYear()))])])])},C=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"navbar-nav"},[i("span",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",attrs:{href:"https://727021.github.io",target:"_blank"}},[i("i",{staticClass:"fab fa-github"})])])])}],w={name:"Footer"},k=w,y=Object(p["a"])(k,_,C,!1,null,null,null),x=y.exports,$=(i("f90c"),i("bc3a")),F=i.n($),S=function(){var t=localStorage.getItem("token");return t?{headers:{Authorization:"Bearer ".concat(t)}}:void 0},O=function(t){return F.a.get(t,S())},j=function(t,e){return F.a.post(t,e,S())},E=function(t,e){return F.a.put(t,e,S())},N=function(t){return F.a.delete(t,S())},R=function(t,e){return t.then((function(t){var i=t.data;return Promise.resolve({status:e||200,data:i})})).catch((function(t){var e=t.response,i=e.status,s=e.data;return Promise.resolve({status:i,data:s})}))},P="/api/user",L=function(t){return R(O("".concat(P).concat(t?"/".concat(t):"")))},I=function(t){return R(j("".concat(P,"/favorites/").concat(t),{}),201)},z=function(t){return R(N("".concat(P,"/favorites/").concat(t),{}),204)},D={name:"app",components:{Header:h,Footer:x},data:function(){return{redirect:void 0,user:void 0,loginForm:{username:"",password:"",error:null},registerForm:{username:{value:"",error:null},email:{value:"",error:null},firstname:{value:"",error:null},lastname:{value:"",error:null},password:{value:"",error:null},confirm:{value:"",error:null}},loginVisible:!1,registerVisible:!1}},methods:{showLogin:function(){this.hideRegister(),this.loginVisible=!0},showRegister:function(){this.hideLogin(),this.registerVisible=!0},hideLogin:function(){for(var t in this.loginVisible=!1,this.loginForm)this.loginForm[t]=void 0},hideRegister:function(){for(var t in this.registerVisible=!1,this.registerForm)this.registerForm[t].error=null,this.registerForm[t].value=""},login:function(){var t=this;(void 0)(this.loginForm.username,this.loginForm.password).then((function(e){var i=e.status,s=e.data;switch(i){case 200:localStorage.setItem("token",s.token),t.getUser().then((function(){t.hideLogin(),t.redirect&&(t.$router.push(t.redirect),t.redirect=void 0)})).catch((function(t){}));break;case 401:t.hideLogin(),t.getUser();break;case 422:console.log(s),t.loginForm.error=s.error||"Invalid Login";break;default:t.hideLogin(),t._500();break}})).catch((function(e){console.error(e),t.hideLogin(),t._500()}))},register:function(){var t=this;(void 0)(this.registerForm.username.value,this.registerForm.email.value,this.registerForm.firstname.value,this.registerForm.lastname.value,this.registerForm.password.value,this.registerForm.confirm.value).then((function(e){var i=e.status,s=e.data;switch(console.log(i,s),i){case 201:t.showLogin(),t.loginForm.username=s.username;break;case 401:t.hideRegister(),t.getUser();break;case 422:var r=function(e){t.registerForm[e].error=(s.errors.find((function(t){return t.param===e}))||{msg:null}).msg};for(var n in t.registerForm)r(n);break;default:t.hideRegister(),t._500();break}})).catch((function(e){console.error(e),t.hideLogin(),t._500()}))},logout:function(){var t=this;(void 0)().catch((function(e){console.error(e),t.hideLogin(),t._500()})).finally((function(){t.user=void 0,localStorage.removeItem("token"),"/"!==t.$router.currentRoute.path&&t.$router.push("/")}))},getUser:function(){var t=this;return L().then((function(e){var i=e.status,s=e.data;switch(i){case 200:t.user=s;break;case 401:t._401();break;default:t.hideRegister(),t.hideLogin(),t._500();break}})).catch((function(e){console.error(e),t.hideLogin(),t._500()}))},_500:function(){this.$router.push("/500")},_401:function(){this.user=void 0,localStorage.removeItem("token")}},mounted:function(){var t=this;this.getUser(),this.$router.onError((function(e){"NotLoggedIn"===e.name&&(t.redirect=e.message,t.showLogin())}))}},A=D,U=(i("034f"),Object(p["a"])(A,r,n,!1,null,null,null)),V=U.exports,T=i("8c4f"),M=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},B=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("h1",[t._v("Home")])])}],H={name:"Home"},q=H,J=Object(p["a"])(q,M,B,!1,null,null,null),Y=J.exports,W=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},G=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("h1",[t._v("Profile")])])}],K={name:"Profile"},Q=K,X=Object(p["a"])(Q,W,G,!1,null,null,null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},["view"===t.mode?i("RecipeView",{attrs:{recipe:t.currentRecipe},on:{close:t.close}}):"edit"===t.mode?i("RecipeEdit",{attrs:{recipe:t.currentRecipe},on:{close:t.close}}):i("div",[i("h1",{staticClass:"border-bottom border-black"},[t._v(" Recipes "),t.loading?i("span",{staticClass:"spinner-border m-2",staticStyle:{"border-width":"4px"},attrs:{role:"status"}}):i("button",{staticClass:"float-right btn btn-outline-success m-1 my-2",attrs:{type:"button","data-toggle":"tooltip",title:"New Recipe"},on:{click:t.openCreate}},[i("i",{staticClass:"fas fa-plus"})])]),t.recipes&&t.recipes.length>0?i("div",[i("div",{staticClass:"card-columns"},t._l(t.recipes,(function(e){return i("RecipeCard",{key:e._id,attrs:{recipe:e},on:{view:t.openView,edit:t.openEdit}})})),1)]):t.recipes&&0===t.recipes.length?i("div",[i("h5",{staticClass:"text-center"},[t._v("No recipes")])]):t._e()])],1)},et=[],it=i("2909"),st=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card"},[t.recipe.image?i("img",{staticClass:"card-img-top",attrs:{src:t.recipe.image}}):t._e(),i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title"},[i("button",{staticClass:"btn btn-lg btn-link p-0",attrs:{disabled:t.disabled},on:{click:function(e){return e.preventDefault(),t.$emit("view",t.recipe)}}},[t._v(t._s(t.recipe.title))])]),i("p",{staticClass:"card-text"},[t._v(t._s(t.recipe.description))])]),i("div",{staticClass:"card-footer"},[i("div",{staticClass:"btn-toolbar justify-content-between flex-row-reverse",attrs:{role:"toolbar"}},[i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("a",{staticClass:"btn btn-sm btn-outline-primary",attrs:{disabled:t.disabled,role:"button",target:"_blank",href:"/pdf/"+t.recipe._id},on:{click:function(t){t.preventDefault()}}},[i("i",{staticClass:"fas fa-print"})]),i("button",{staticClass:"btn btn-sm btn-outline-danger",class:{"btn-outline-danger":!t.isFavorite(),"btn-danger text-white":t.isFavorite()},attrs:{disabled:t.disabled,type:"button"},on:{click:t.toggleFavorite}},[i("i",{staticClass:"fa-heart",class:{far:!t.isFavorite(),fas:t.isFavorite()}})])]),t.recipe.author===this.$parent.$parent.user._id||t.recipe.author._id===this.$parent.$parent.user._id?i("div",{staticClass:"btn-group",attrs:{role:"group"}},[i("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{disabled:t.disabled,type:"button"},on:{click:t.deleteRecipe}},[i("i",{staticClass:"fas fa-trash-alt"})]),i("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{disabled:t.disabled,type:"button"},on:{click:function(e){return t.$emit("edit",t.recipe)}}},[i("i",{staticClass:"fas fa-pencil-alt"})])]):t._e()])])])},rt=[],nt=(i("4de4"),i("c975"),i("45fc"),i("a434"),i("15fd")),at=i("5530"),ot="/api/recipe",lt=function(){return R(O(ot))},ct=function(t){return R(j(ot,Object(at["a"])({},t)),201)},ut=function(t){var e=t._id,i=Object(nt["a"])(t,["_id"]);return R(E("".concat(ot,"/").concat(e),i))},dt=function(t){return R(N("".concat(ot,"/").concat(t._id)),204)},pt={name:"RecipeCard",props:["recipe"],data:function(){return{disabled:!1}},methods:{isFavorite:function(){var t=this.recipe._id;return this.$parent.$parent.user.favorites.some((function(e){return e===t}))},deleteRecipe:function(){var t=this;this.disabled=!0,dt(this.recipe).then((function(e){var i=e.status;switch(i){case 204:t.$parent.recipes=t.$parent.recipes.filter((function(e){return e._id!==t.recipe._id}));break;case 401:t.$parent.$parent._401();break;default:t.$parent.$parent._500();break}})).catch((function(e){console.error(e),t.$parent.$parent._500()}))},toggleFavorite:function(){var t=this,e=this.$parent.$parent.user.favorites.indexOf(this.recipe._id);e>=0?z(this.recipe._id).then((function(i){var s=i.status;i.data;switch(s){case 204:t.$parent.$parent.user.favorites.splice(e,1);break;case 401:t.$parent.$parent._401(),t.$router.push("/");break;default:t.$parent.$parent._500();break}})).catch((function(e){console.error(e),t.$parent.$parent._500()})):I(this.recipe._id).then((function(e){var i=e.status,s=e.data;switch(i){case 201:t.$parent.$parent.user.favorites=s;break;case 401:t.$parent.$parent._401(),t.$router.push("/");break;default:t.$parent.$parent._500();break}})).catch((function(e){console.error(e),t.$parent.$parent._500()}))}}},mt=pt,vt=Object(p["a"])(mt,st,rt,!1,null,null,null),gt=vt.exports,ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"border-bottom border-secondary"},[t._v(" "+t._s(t.recipe.title)+" "),i("small",{staticClass:"ml-3"},[i("small",[i("b",[t._v("Servings:")]),t._v(" "+t._s(t.recipe.serving.count*t.multiplier)+" "),i("b",[t._v("Serving Size:")]),t._v(" "+t._s(t.recipe.serving.size)+" "+t._s(t.recipe.serving.units)+" ")])]),i("button",{staticClass:"btn btn-outline-danger float-right m-1 my-2",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[i("i",{staticClass:"fas fa-times"})]),i("a",{staticClass:"btn btn-outline-primary float-right m-1 my-2",attrs:{role:"button",target:"_blank",href:"/pdf/"+t.recipe._id},on:{click:function(t){t.preventDefault()}}},[i("i",{staticClass:"fas fa-print"})])]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.multiplier,expression:"multiplier"}],staticClass:"float-right rounded",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.multiplier=e.target.multiple?i:i[0]}}},[i("option",{attrs:{disabled:.25*t.recipe.serving.count<1,value:"0.25"}},[t._v("x0.25")]),i("option",{attrs:{disabled:.5*t.recipe.serving.count<1,value:"0.5"}},[t._v("x0.5")]),i("option",{attrs:{value:"1",selected:""}},[t._v("x1")]),i("option",{attrs:{value:"2"}},[t._v("x2")]),i("option",{attrs:{value:"3"}},[t._v("x3")])]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.recipe.description,expression:"recipe.description"}],staticClass:"form-control-plaintext w-75 py-0 ml-3 description",attrs:{readonly:""},domProps:{value:t.recipe.description},on:{input:function(e){e.target.composing||t.$set(t.recipe,"description",e.target.value)}}}),t.recipe.image?i("div",{staticClass:"carousel slide bg-dark py-2 mt-2",attrs:{id:"recipeCarousel","data-ride":"carousel","data-interval":"false"}},[i("div",{staticClass:"carousel-inner"},[i("div",{staticClass:"carousel-item active"},[i("img",{staticClass:"d-block mx-auto rounded",attrs:{src:t.recipe.image}})])])]):t._e(),i("h4",{staticClass:"pt-3"},[t._v("Ingredients")]),i("ul",{staticClass:"list-group"},t._l(t.recipe.ingredients,(function(e){var s=e.amount,r=e.units,n=e.name;return i("li",{key:s+n,staticClass:"list-group-item list-group-item-action"},[t._v(t._s(s*t.multiplier)+" "+t._s(r&&t.getFullUnit(r)?t.getFullUnit(r).abbr:"")+" "+t._s(n))])})),0),i("h4",{staticClass:"pt-3"},[t._v("Steps")]),i("ol",{staticClass:"list-group"},t._l(t.recipe.steps,(function(e,s){return i("li",{key:s,staticClass:"list-group-item list-group-item-action text-wrap"},[i("b",[t._v(t._s(s+1)+".")]),t._v(" "+t._s(e))])})),0)])},bt=[],ht=(i("99af"),i("25f0"),i("498a"),i("53ca")),_t=i("d4ec"),Ct=i("bee2"),wt=[],kt=function(){function t(e,i,s,r,n,a,o){Object(_t["a"])(this,t),this.measure=e,this.system=i,this.abbr=s,this.singular=r,this.plural=n,this.toBase=a,this.fromBase=o,this.amount=void 0}return Object(Ct["a"])(t,null,[{key:"find",value:function(t){return t=t.toString(),wt.find((function(e){return e.abbr===t||e.singular===t||e.plural===t}))}},{key:"exists",value:function(e){return Boolean(t.find(e))}},{key:"list",value:function(t){if(!t||""===t)return[].concat(wt);switch(t=t.toString().toLowerCase().trim(),t){case"metric":return wt.filter((function(t){return"metric"===t.system||""===t.system}));case"imperial":return wt.filter((function(t){return"imperial"===t.system||""===t.system}));case"us":return wt.filter((function(t){return"us"===t.system||""===t.system}));case"volume":return wt.filter((function(t){return"volume"===t.measure}));case"mass":case"weight":return wt.filter((function(t){return"mass"===t.measure}));case"amount":return wt.filter((function(t){return"amount"===t.measure}));default:return[]}}}]),Object(Ct["a"])(t,[{key:"to",value:function(e){return"object"===Object(ht["a"])(e)&&null!==e||(e=t.find(e)),new t(e,e.fromBase(this.toBase(this.amount||0)))}}]),t}();wt.push(new kt("mass","metric","g","gram","grams",(function(t){return t/28.35}),(function(t){return 28.35*t}))),wt.push(new kt("mass","imperial","oz","ounce","ounces",(function(t){return t}),(function(t){return t}))),wt.push(new kt("mass","imperial","lb","pound","pounds",(function(t){return t/16}),(function(t){return 16*t}))),wt.push(new kt("volume","metric","ml","milliliter","milliliters",(function(t){return t/29.574}),(function(t){return 29.527*t}))),wt.push(new kt("volume","metric","l","liter","liters",(function(t){return 33.814*t}),(function(t){return t/33.814}))),wt.push(new kt("volume","us","tsp","teaspoon","teaspoons",(function(t){return t/6}),(function(t){return 6*t}))),wt.push(new kt("volume","us","Tbs","tablespoon","tablespoons",(function(t){return t/2}),(function(t){return 2*t}))),wt.push(new kt("volume","us","fl-oz","fluid ounce","fluid ounces",(function(t){return t}),(function(t){return t}))),wt.push(new kt("volume","us","c","cup","cups",(function(t){return 8.115*t}),(function(t){return t/8.115}))),wt.push(new kt("volume","us","pt","pint","pints",(function(t){return 16*t}),(function(t){return t/16}))),wt.push(new kt("volume","us","qt","quart","quarts",(function(t){return 32*t}),(function(t){return t/32}))),wt.push(new kt("volume","us","gal","gallon","gallons",(function(t){return 128*t}),(function(t){return t/128}))),wt.push(new kt("amount","","","count","count",(function(t){return t}),(function(t){return t}))),wt.push(new kt("amount","","dzn","dozen","dozen",(function(t){return t/12}),(function(t){return 12*t})));var yt={name:"RecipeView",props:["recipe"],data:function(){return{multiplier:1}},methods:{getFullUnit:function(t){return kt.find(t)}}},xt=yt,$t=(i("80f3"),Object(p["a"])(xt,ft,bt,!1,null,"99f50428",null)),Ft=$t.exports,St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"border-bottom border-secondary"},[t._v(" Editing "+t._s(t.editing.title)+" "),i("button",{staticClass:"btn btn-outline-danger float-right m-1 my-2",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[i("i",{staticClass:"fas fa-times"})]),i("button",{staticClass:"btn btn-outline-success float-right m-1 my-2",attrs:{type:"button"},on:{click:t.save}},[i("i",{staticClass:"fas fa-save"})]),t.showSaved?i("button",{staticClass:"btn btn-link text-success float-right m-1 my-2",attrs:{disabled:"",type:"button"}},[t._v("Saved")]):t._e(),t.showError?i("button",{staticClass:"btn btn-link text-danger float-right m-1 my-2",attrs:{disabled:"",type:"button"}},[t._v("Error")]):t._e(),t.showSaving?i("button",{staticClass:"btn btn-link text-success float-right m-1 my-2",attrs:{disabled:"",type:"button"}},[t._v("Saving...")]):t._e()]),i("div",{staticClass:"form-row"},[i("div",{staticClass:"col-7"},[i("label",{attrs:{for:"title"}},[t._v("Recipe Title")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.editing.title,expression:"editing.title"}],staticClass:"form-control",class:{"is-invalid":t.errors.title},attrs:{id:"title",type:"text",placeholder:"Recipe Title",maxlength:"64"},domProps:{value:t.editing.title},on:{input:function(e){e.target.composing||t.$set(t.editing,"title",e.target.value)}}}),i("small",{staticClass:"w-75 invalid-feedback float-left"},[t._v(t._s(t.errors.title))]),i("small",{staticClass:"form-text text-muted float-right"},[t._v(t._s(t.editing.title.length)+"/64")])]),i("div",{staticClass:"col-2"},[i("label",{attrs:{for:"servingCount"}},[t._v("Servings")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.editing.serving.count,expression:"editing.serving.count"}],staticClass:"form-control",class:{"is-invalid":t.errors.serving.count},attrs:{type:"number",id:"servingCount",min:"1",step:"1"},domProps:{value:t.editing.serving.count},on:{input:function(e){e.target.composing||t.$set(t.editing.serving,"count",e.target.value)}}}),i("small",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.serving.count))])]),i("div",{staticClass:"col-3"},[i("label",{attrs:{for:"servingSize"}},[t._v("Serving Size")]),i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.editing.serving.size,expression:"editing.serving.size"}],staticClass:"form-control",class:{"is-invalid":t.errors.serving.size},attrs:{type:"number",id:"servingSize",min:"1",step:"0.25"},domProps:{value:t.editing.serving.size},on:{input:function(e){e.target.composing||t.$set(t.editing.serving,"size",e.target.value)}}}),i("select",{directives:[{name:"model",rawName:"v-model",value:t.editing.serving.units,expression:"editing.serving.units"}],staticClass:"custom-select",class:{"is-invalid":t.errors.serving.units},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.editing.serving,"units",e.target.multiple?i:i[0])}}},[i("option",{domProps:{value:void 0}},[t._v("- Units -")]),t._l(t.allUnits,(function(e,s){var r=e.singular,n=e.plural;return i("option",{key:s,domProps:{value:r}},[t._v(t._s(t.editing.serving.size>1?n:r))])}))],2),i("small",{staticClass:"invalid-feedback"},[i("span",{staticClass:"w-50 float-left"},[t._v(t._s(t.errors.serving.size))]),i("span",{staticClass:"w-50 float-right"},[t._v(t._s(t.errors.serving.units))])])])])]),i("div",{staticClass:"form-row"},[i("div",{staticClass:"col"},[i("label",{attrs:{for:"description"}},[t._v("Description")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editing.description,expression:"editing.description"}],staticClass:"form-control",class:{"is-invalid":t.errors.description},attrs:{maxlength:"1024",id:"description",type:"text",placeholder:"Enter description..."},domProps:{value:t.editing.description},on:{input:function(e){e.target.composing||t.$set(t.editing,"description",e.target.value)}}}),i("small",{staticClass:"invalid-feedback w-75 float-left"},[t._v(t._s(t.errors.description))]),i("small",{staticClass:"form-text text-muted float-right"},[t._v(t._s(t.editing.description.length)+"/1024")])])]),i("h4",{staticClass:"pt-2"},[t._v(" Image "),t.errors.image?i("button",{staticClass:"btn btn-link text-danger",attrs:{disabled:"",type:"button"}},[t._v(t._s(t.errors.image))]):t._e()]),i("ul",{staticClass:"list-group"},[i("li",{staticClass:"list-group-item list-group-item-action"},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"custom-file"},[i("input",{staticClass:"custom-file-input",class:{"is-invalid":t.errors.image},attrs:{type:"file",id:"addFile",accept:"image/png, image/jpg, image/jpeg"},on:{change:function(e){return t.addImage(e)}}}),i("label",{staticClass:"custom-file-label",attrs:{for:"addFile"}},[t._v("Choose file...")])]),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:t.removeImage}},[i("i",{staticClass:"fas fa-trash-alt"})])])])]),t.editing.image?i("li",{staticClass:"list-group-item list-group-item-action"},[i("div",{staticClass:"carousel slide bg-dark py-2",attrs:{id:"recipeCarousel","data-ride":"carousel","data-interval":"false"}},[i("div",{staticClass:"carousel-inner"},[i("div",{staticClass:"carousel-item active"},[i("img",{staticClass:"d-block mx-auto rounded",attrs:{src:t.editing.image}})])])])]):t._e()]),i("h4",{staticClass:"pt-3"},[t._v(" Ingredients "),t.errors.ingredients?i("button",{staticClass:"btn btn-link text-danger",attrs:{disabled:"",type:"button"}},[t._v(t._s(t.errors.ingredients))]):t._e()]),i("ul",{staticClass:"list-group"},[t._l(t.editing.ingredients,(function(e,s){e.amount,e.units,e.name;return i("li",{key:s,staticClass:"list-group-item list-group-item-action"},[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.editing.ingredients[s].amount,expression:"editing.ingredients[index].amount"}],staticClass:"form-control",class:{"is-invalid":t.errors.ingredient[s]&&t.errors.ingredient[s].amount},attrs:{type:"number",min:"0.25",step:"0.25"},domProps:{value:t.editing.ingredients[s].amount},on:{input:function(e){e.target.composing||t.$set(t.editing.ingredients[s],"amount",e.target.value)}}}),i("select",{directives:[{name:"model",rawName:"v-model",value:t.editing.ingredients[s].units,expression:"editing.ingredients[index].units"}],staticClass:"custom-select",class:{"is-invalid":t.errors.ingredient[s]&&t.errors.ingredient[s].units},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.editing.ingredients[s],"units",e.target.multiple?i:i[0])}}},[i("option",{domProps:{value:void 0}},[t._v("- Units -")]),t._l(t.allUnits,(function(e,r){var n=e.singular,a=e.plural;return i("option",{key:r,domProps:{value:n}},[t._v(t._s(t.editing.ingredients[s].amount>1?a:n))])}))],2),i("input",{directives:[{name:"model",rawName:"v-model",value:t.editing.ingredients[s].name,expression:"editing.ingredients[index].name"}],staticClass:"form-control",class:{"is-invalid":t.errors.ingredient[s]&&t.errors.ingredient[s].name},attrs:{type:"text",maxlength:"64"},domProps:{value:t.editing.ingredients[s].name},on:{input:function(e){e.target.composing||t.$set(t.editing.ingredients[s],"name",e.target.value)}}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-outline-danger",attrs:{disabled:1===t.editing.ingredients.length,type:"button"},on:{click:function(e){return t.removeIngredient(s)}}},[i("i",{staticClass:"fas fa-trash-alt"})]),i("button",{staticClass:"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split",attrs:{"data-toggle":"dropdown",type:"button"}}),i("div",{staticClass:"dropdown-menu"},[i("button",{staticClass:"dropdown-item",attrs:{disabled:0===s},on:{click:function(e){return e.preventDefault(),t.moveIngredient(s,"up")}}},[i("i",{staticClass:"fas fa-angle-up"}),t._v(" Move Up ")]),i("button",{staticClass:"dropdown-item",attrs:{disabled:s===t.editing.ingredients.length-1},on:{click:function(e){return e.preventDefault(),t.moveIngredient(s,"down")}}},[i("i",{staticClass:"fas fa-angle-down"}),t._v(" Move Down ")])])])]),t.errors.ingredient[s]?i("small",{staticClass:"float-left text-danger",staticStyle:{width:"90%"}},[i("span",{staticClass:"d-inline-block",staticStyle:{width:"35%"}},[t._v(t._s(t.errors.ingredient[s].amount))]),i("span",{staticClass:"d-inline-block",staticStyle:{width:"35%"}},[t._v(t._s(t.errors.ingredient[s].units))]),i("span",{staticClass:"d-inline-block"},[t._v(t._s(t.errors.ingredient[s].name))])]):t._e(),i("small",{staticClass:"form-text text-muted float-right mr-5 pr-4"},[t._v(t._s(t.editing.ingredients[s].name.length)+"/64")])])})),i("li",{staticClass:"list-group-item list-group-item-action"},[i("button",{staticClass:"btn btn-outline-success w-100",attrs:{type:"button"},on:{click:t.addIngredient}},[t._v("Add Ingredient")])])],2),i("h4",{staticClass:"pt-3"},[t._v(" Steps "),t.errors.steps?i("button",{staticClass:"btn btn-link text-danger",attrs:{disabled:"",type:"button"}},[t._v(t._s(t.errors.steps))]):t._e()]),i("ol",{staticClass:"list-group"},[t._l(t.editing.steps,(function(e,s){return i("li",{key:s,staticClass:"list-group-item list-group-item-action"},[i("div",{staticClass:"input-group"},[i("div",{staticClass:"input-group-prepend"},[i("span",{staticClass:"input-group-text"},[t._v(t._s(s+1)+".")])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.editing.steps[s],expression:"editing.steps[index]"}],staticClass:"form-control",class:{"is-invalid":t.errors.step[s]},attrs:{type:"text",maxlength:"128"},domProps:{value:t.editing.steps[s]},on:{input:function(e){e.target.composing||t.$set(t.editing.steps,s,e.target.value)}}}),i("div",{staticClass:"input-group-append"},[i("button",{staticClass:"btn btn-outline-danger",attrs:{disabled:1===t.editing.steps.length,type:"button"},on:{click:function(e){return t.removeStep(s)}}},[i("i",{staticClass:"fas fa-trash-alt"})]),i("button",{staticClass:"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split",attrs:{"data-toggle":"dropdown",type:"button"}}),i("div",{staticClass:"dropdown-menu"},[i("button",{staticClass:"dropdown-item",attrs:{disabled:0===s},on:{click:function(e){return e.preventDefault(),t.moveStep(s,"up")}}},[i("i",{staticClass:"fas fa-angle-up"}),t._v(" Move Up ")]),i("button",{staticClass:"dropdown-item",attrs:{disabled:s===t.editing.steps.length-1},on:{click:function(e){return e.preventDefault(),t.moveStep(s,"down")}}},[i("i",{staticClass:"fas fa-angle-down"}),t._v(" Move Down ")])])])]),t.errors.step[s]?i("small",{staticClass:"float-left text-danger"},[t._v(t._s(t.errors.step[s]))]):t._e(),i("small",{staticClass:"form-text text-muted float-right mr-5 pr-4"},[t._v(t._s(t.editing.steps[s].length)+"/128")])])})),i("li",{staticClass:"list-group-item list-group-item-action"},[i("button",{staticClass:"btn btn-outline-success w-100",attrs:{type:"button"},on:{click:t.addStep}},[t._v("Add Step")])])],2)])},Ot=[],jt=(i("a4d3"),i("e01a"),i("c740"),i("4160"),i("ac1f"),i("159b"),{name:"RecipeEdit",props:["recipe"],data:function(){return{editing:null,allUnits:kt.list(),showSaved:!1,showSaving:!1,showError:!1,errors:null}},methods:{addIngredient:function(){this.editing.ingredients.push({name:"New ingredient",amount:1,units:void 0})},removeIngredient:function(t){this.editing.ingredients.splice(t,1)},moveIngredient:function(t,e){if("up"===e||"down"===e){var i=Object(it["a"])(this.editing.ingredients);if("up"===e){var s=i[t-1];i[t-1]=i[t],i[t]=s}else if("down"===e){var r=i[t+1];i[t+1]=i[t],i[t]=r}this.editing.ingredients=i}},addStep:function(){this.editing.steps.push("Step ".concat(this.editing.steps.length+1))},removeStep:function(t){this.editing.steps.splice(t,1)},moveStep:function(t,e){if("up"===e||"down"===e){var i=Object(it["a"])(this.editing.steps);if("up"===e){var s=i[t-1];i[t-1]=i[t],i[t]=s}else if("down"===e){var r=i[t+1];i[t+1]=i[t],i[t]=r}this.editing.steps=i}},addImage:function(t){var e=this;console.log(t.target.result);var i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=function(i){e.editing.image=i.target.result,t.target.value=null}},removeImage:function(){this.editing.image=void 0},save:function(){var t=this;this.clearErrors(),this.showSaving=!0,this.editing._id?ut(this.editing).then((function(e){var i=e.status,s=e.data;switch(i){case 200:t.$parent.recipes[t.$parent.recipes.findIndex((function(t){return t._id===s._id}))]=Object(at["a"])(Object(at["a"])({},s),{},{ingredients:Object(it["a"])(s.ingredients),steps:Object(it["a"])(s.steps)}),t.editing=Object(at["a"])(Object(at["a"])({},s),{},{ingredients:Object(it["a"])(s.ingredients),steps:Object(it["a"])(s.steps)}),t.showSaving=!1,t.showSaved=!0,setTimeout((function(){return t.showSaved=!1}),5e3);break;case 401:t.$parent.$parent._401();break;case 422:t.fillErrors(s);break;default:t.showError=!0}})).catch((function(e){console.error(e),t.$parent.$parent._500()})).finally((function(){t.showSaving=!1})):(console.log(this.editing),ct(this.editing).then((function(e){var i=e.status,s=e.data;switch(i){case 201:t.$parent.recipes.push(Object(at["a"])(Object(at["a"])({},s),{},{ingredients:Object(it["a"])(s.ingredients),steps:Object(it["a"])(s.steps)})),t.editing=Object(at["a"])(Object(at["a"])({},s),{},{ingredients:Object(it["a"])(s.ingredients),steps:Object(it["a"])(s.steps)}),t.showSaving=!1,t.showSaved=!0,setTimeout((function(){return t.showSaved=!1}),5e3);break;case 401:t.$parent.$parent._401();break;case 422:t.fillErrors(s);break;default:t.showError=!0}})).catch((function(e){console.error(e),t.$parent.$parent._500()})))},fillErrors:function(t){var e=this,i=t.errors;this.showSaving=!1,this.showError=!0,i.forEach((function(t){var i=t.param,s=t.msg,r=[];"title"===i?e.errors.title=s:"serving.count"===i?e.errors.serving.count=s:"serving.size"===i?e.errors.serving.size=s:"serving.units"===i?e.errors.serving.units=s:"description"===i?e.errors.description=s:"image"===i?e.errors.image=s:"ingredients"===i?e.errors.ingredients=s:(r=/^ingredients\[([0-9]+)\]\.amount/.exec(i))?(e.errors.ingredient[+r[1]]||(e.errors.ingredient[+r[1]]={}),e.errors.ingredient[+r[1]].amount=s):(r=/^ingredients\[([0-9]+)\]\.units/.exec(i))?(e.errors.ingredient[+r[1]]||(e.errors.ingredient[+r[1]]={}),e.errors.ingredient[+r[1]].units=s):(r=/^ingredients\[([0-9]+)\]\.name/.exec(i))?(e.errors.ingredient[+r[1]]||(e.errors.ingredient[+r[1]]={}),e.errors.ingredient[+r[1]].name=s):"steps"===i?e.errors.steps=s:(r=/^steps\[([0-9]+)\]/.exec(i))&&(e.errors.step[+r[1]]=s)}))},clearErrors:function(){this.showError=!1,this.errors={title:void 0,serving:{count:void 0,size:void 0,units:void 0},description:void 0,image:void 0,ingredients:void 0,ingredient:[],steps:void 0,step:[]}}},created:function(){this.editing=Object(at["a"])(Object(at["a"])({},this.recipe),{},{ingredients:Object(it["a"])(this.recipe.ingredients),steps:Object(it["a"])(this.recipe.steps)}),this.clearErrors()}}),Et=jt,Nt=(i("3b7a"),Object(p["a"])(Et,St,Ot,!1,null,"9147039a",null)),Rt=Nt.exports,Pt={name:"Recipes",components:{RecipeCard:gt,RecipeView:Ft,RecipeEdit:Rt},data:function(){return{loading:!0,recipes:null,currentRecipe:null,mode:null}},methods:{openCreate:function(){this.currentRecipe={title:"New Recipe",description:"",serving:{count:1,size:1,units:void 0},ingredients:[{name:"New ingredient",amount:1,units:void 0}],steps:["Step 1"],image:void 0},this.mode="edit"},openEdit:function(t){this.currentRecipe=t,this.mode="edit"},openView:function(t){this.currentRecipe=t,this.mode="view"},close:function(){this.mode=null,this.currentRecipe=null}},mounted:function(){var t=this;lt().then((function(e){var i=e.status,s=e.data;switch(i){case 200:t.recipes=Object(it["a"])(s),t.loading=!1;break;default:t.$parent._500();break}})).catch((function(e){console.error(e),t.$parent._500()}))}},Lt=Pt,It=Object(p["a"])(Lt,tt,et,!1,null,null,null),zt=It.exports,Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("h1",{staticClass:"border-bottom"},[t._v(" Cookbooks "),t.loading?i("span",{staticClass:"spinner-border m-2",staticStyle:{"border-width":"4px"},attrs:{role:"status"}}):t._e(),t.showCreate?i("button",{staticClass:"btn btn-outline-danger m-1 my-2 float-right",on:{click:function(e){t.showCreate=!1}}},[i("i",{staticClass:"fas fa-times"})]):i("button",{staticClass:"btn m-1 my-2 btn-outline-success float-right",attrs:{"data-toggle":"dropdown"},on:{click:function(e){t.newName={value:"",error:null},t.showCreate=!0}}},[i("i",{staticClass:"fas fa-plus"})]),t.showCreate?i("small",{staticClass:"float-right text-muted"},[i("small",[i("small",[i("small",[i("small",[t._v(t._s(t.newName.value.length)+"/64")])])])])]):t._e(),t.showCreate?i("input",{directives:[{name:"model",rawName:"v-model",value:t.newName.value,expression:"newName.value"}],staticClass:"form-control float-right w-50 m-1 my-2",class:{"is-invalid":t.newName.error},attrs:{type:"text",placeholder:"New Cookbook (ENTER to submit...)",maxlength:"64"},domProps:{value:t.newName.value},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.create(e))},function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.preventDefault(),t.showCreate=!1}],input:function(e){e.target.composing||t.$set(t.newName,"value",e.target.value)}}}):t._e()])])},At=[],Ut={name:"Cookbooks",data:function(){return{loading:!0,showCreate:!1,newName:{value:"",error:null},currentCookbook:null}},methods:{create:function(){console.log("Create cookbook:",this.newName.value)}},mounted:function(){this.loading=!1}},Vt=Ut,Tt=Object(p["a"])(Vt,Dt,At,!1,null,null,null),Mt=Tt.exports,Bt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ht=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container text-center mt-2"},[i("h1",[t._v("Server Error")]),i("p",[t._v("It looks like we ran into an unexpected error. Sorry for any inconvenience. We'll get that fixed as soon as possible.")])])}],qt={name:"ServerError"},Jt=qt,Yt=Object(p["a"])(Jt,Bt,Ht,!1,null,null,null),Wt=Yt.exports,Gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container mt-2 text-center"},[i("h1",[t._v("404 - Page Not Found")]),i("p",[t._v(" Looks like the page at "),i("code",[t._v(t._s(this.$route.params.pathMatch))]),t._v(" doesn't exist! ")])])},Kt=[],Qt={name:"PageNotFound"},Xt=Qt,Zt=Object(p["a"])(Xt,Gt,Kt,!1,null,null,null),te=Zt.exports;s["a"].use(T["a"]);var ee=[{path:"/",name:"Home",component:Y},{path:"/profile",name:"Profile",component:Z,meta:{needsAuth:!0}},{path:"/recipes",name:"Recipes",component:zt,meta:{needsAuth:!0}},{path:"/recipes/:rid",name:"Recipe",component:void 0,meta:{needsAuth:!0}},{path:"/cookbooks",name:"Cookbooks",component:Mt,meta:{needsAuth:!0}},{path:"/cookbooks/:cid",name:"Cookbook",component:void 0,meta:{needsAuth:!0}},{path:"/500",name:"500",component:Wt},{path:"*",name:"404",component:te}],ie=new T["a"]({routes:ee});ie.beforeEach((function(t,e,i){if(t.meta.needsAuth&&!localStorage.getItem("token")){var s=new Error;s.message=t.path,s.name="NotLoggedIn",i(s)}else i()})),ie.afterEach((function(t,e){document.title=t.name+" - CookShare"}));var se=ie;s["a"].config.productionTip=!1,new s["a"]({router:se,render:function(t){return t(V)}}).$mount("#app")},6:function(t,e){},7:function(t,e){},8:function(t,e){},"80f3":function(t,e,i){"use strict";var s=i("b4a6"),r=i.n(s);r.a},"85ec":function(t,e,i){},9:function(t,e){},"94d5":function(t,e,i){},b4a6:function(t,e,i){}});
//# sourceMappingURL=app.a0f9ee27.js.map